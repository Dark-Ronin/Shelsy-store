<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Aicam Store - Moda e acess√≥rios estilosos em Mo√ßambique. Confira nossos produtos com pre√ßos acess√≠veis e promo√ß√µes especiais.">
    <meta name="keywords" content="Aicam Store, moda, acess√≥rios, Mo√ßambique, promo√ß√µes, produtos, joias, sapatos, bolsas, vestidos" />
    <meta name="author" content="Aicam Store">
    <meta name="robots" content="index, follow">
    <title>Aicam Store</title>
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aicamstore.netlify.app/">
    <meta property="og:title" content="Aicam Store - Moda e acess√≥rios em Mo√ßambique">
    <meta property="og:description" content="Confira nossos produtos estilosos com pre√ßos acess√≠veis e promo√ß√µes especiais.">
    <meta property="og:image" content="https://aicamstore.netlify.app/img/logo_1.png">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Aicam Store - Moda e acess√≥rios em Mo√ßambique">
    <meta name="twitter:description" content="Confira nossos produtos estilosos com pre√ßos acess√≠veis e promo√ß√µes especiais.">
    <meta name="twitter:image" content="https://aicamstore.netlify.app/img/logo_1.png">
    <!-- Favicon -->
    <link rel="icon" href="img/logo_1.png" type="image/png">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #fff; }
        .top-bar {
            background: #111;
            color: #fff;
            font-size: 0.95rem;
            text-align: center;
            padding: 6px 0;
            letter-spacing: 0.5px;
        }
        .navbar-main {
            background: #fff;
            border-bottom: 1px solid #eee;
            padding: 0.5rem 0;
        }
        .navbar-main .nav-link {
            color: #222 !important;
            font-weight: 500;
            font-size: 1.05rem;
            margin: 0 0.7rem;
            letter-spacing: 0.5px;
        }
        .banner {
            width: 100%;
            border-radius: 18px;
            margin: 1.2rem 0;
            overflow: hidden;
            box-shadow: 0 2px 16px #0001;
        }
        .banner img {
            width: 100%;
            object-fit: cover;
            max-height: 180px;
        }
        .banner-text {
            position: absolute;
            left: 1.2rem;
            bottom: 1.2rem;
            color: #fff;
            font-size: 1.5rem;
            font-weight: bold;
            background: rgba(255,0,0,0.7);
            padding: 0.4rem 1rem;
            border-radius: 12px;
            letter-spacing: 1px;
        }
        .produtos-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.1rem;
        }
        @media (min-width: 700px) {
            .produtos-grid { grid-template-columns: repeat(4, 1fr); }
            .banner img { max-height: 260px; }
        }
        .produto-card {
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 2px 8px #0001;
            padding: 0.7rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: box-shadow 0.2s;
            position: relative;
        }
        .produto-card:hover { box-shadow: 0 4px 16px #0002; }
        .produto-img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            border-radius: 14px;
            margin-bottom: 0.7rem;
        }
        .produto-nome {
            font-size: 1.05rem;
            font-weight: 600;
            color: #222;
            margin-bottom: 0.2rem;
            text-align: center;
        }
        .produto-preco {
            font-size: 1.1rem;
            font-weight: bold;
            color: #e53935;
        }
        .produto-desconto {
            font-size: 0.95rem;
            color: #e53935;
            font-weight: bold;
            margin-left: 0.5rem;
        }
        .produto-preco-original {
            font-size: 0.95rem;
            color: #888;
            text-decoration: line-through;
            margin-left: 0.5rem;
        }
        .produto-btns {
            width: 100%;
            margin-top: 0.7rem;
        }
        .produto-btns .btn {
            font-size: 1rem;
            padding: 0.6rem 0;
            border-radius: 12px;
        }
        .badge-desconto {
            position: absolute;
            top: 12px;
            left: 12px;
            background: #e53935;
            color: #fff;
            font-size: 0.92rem;
            font-weight: bold;
            padding: 2px 10px;
            border-radius: 10px;
        }
        /* Rodap√© fixo mobile */
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 0; right: 0;
            background: #fff;
            border-top: 1px solid #eee;
            z-index: 1200;
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 56px;
        }
        .footer-nav .nav-icon {
            color: #222;
            font-size: 1.3rem;
            text-align: center;
        }
        .footer-nav .active { color: #e53935; }
        @media (min-width: 700px) {
            .footer-nav { display: none; }
        }
    </style>
    <script src="produtos.js"></script>
</head>
<body>
    <!-- Barra de promo√ß√µes -->
    <div class="top-bar">
        Frete gr√°tis acima de 500MZN ‚Ä¢ Cupom: XAVA10 ‚Ä¢ Promo rel√¢mpago -60% OFF!
    </div>
    <!-- Menu principal com barra de pesquisa e nome da loja -->
    <nav class="navbar navbar-main navbar-expand-lg d-flex justify-content-between align-items-center px-3">
        <a class="navbar-brand fw-bold fs-4 text-danger" href="#">Aicam Store</a>
        <ul class="nav mx-auto">
            <li class="nav-item"><a class="nav-link" href="#">Mulher</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Homem</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Crian√ßa</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Casa</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Beleza</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Acess√≥rios</a></li>
        </ul>
        <form class="d-flex" style="max-width:180px;">
            <input type="search" id="buscaProduto" class="form-control form-control-sm" placeholder="Buscar...">
        </form>
    </nav>
    <!-- Banner principal -->
    <div class="container">
        <div class="banner position-relative mb-3">
            <img src="https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=800&q=80" alt="Banner Moda">
            <div class="banner-text">-60% OFF ‚Ä¢ Nova Cole√ß√£o</div>
        </div>
    </div>
    <!-- Grid de produtos -->
    <div class="container pb-5">
        <section class="produtos-grid" id="produtos"></section>
    </div>
    <!-- Carrinho Mobile Modal -->
    <div class="modal fade" id="modalCarrinhoMobile" tabindex="-1" aria-labelledby="modalCarrinhoMobileLabel" aria-hidden="true">
      <div class="modal-dialog modal-bottom modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-primary" id="modalCarrinhoMobileLabel">Sacola</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
          </div>
          <div class="modal-body">
            <ul id="itens-carrinho-mobile" class="list-unstyled"></ul>
            <div class="total fw-bold mt-2">Total: MZN <span id="total-carrinho-mobile">0.00</span></div>
            <button class="btn btn-danger w-100 mt-3">Finalizar compra</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal Produto -->
    <div class="modal fade" id="modalProduto" tabindex="-1" aria-labelledby="modalProdutoLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalProdutoLabel"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
          </div>
          <div class="modal-body">
            <img id="modalProdutoImg" src="" alt="" class="img-fluid mb-3 rounded">
            <p id="modalProdutoDesc"></p>
            <div>
                <span class="preco h5 text-danger"></span>
                <span class="preco-original text-muted ms-2"></span>
            </div>
          </div>
          <div class="modal-footer">
            <button id="modalAddCarrinho" type="button" class="btn btn-danger w-100">Adicionar √† sacola</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Rodap√© fixo mobile -->
    <nav class="footer-nav">
        <a href="#" class="nav-icon active"><span>üè†</span><div style="font-size:0.8rem;">In√≠cio</div></a>
        <a href="#" class="nav-icon"><span>üìÇ</span><div style="font-size:0.8rem;">Categorias</div></a>
        <a href="#" class="nav-icon" onclick="abrirCarrinhoMobile()"><span>üõí</span><div style="font-size:0.8rem;">Sacola</div></a>
        <a href="#" class="nav-icon"><span>üë§</span><div style="font-size:0.8rem;">Conta</div></a>
    </nav>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Junta todos os produtos em um s√≥ array
        const todosProdutos = [
            ...(typeof promocoes !== 'undefined' ? promocoes : []),
            ...(typeof summer !== 'undefined' ? summer : []),
            ...(typeof produtos !== 'undefined' ? produtos : [])
        ].map((p, idx) => ({ id: idx + 1, ...p }));

        console.log('Produtos carregados:', todosProdutos);

        const produtosDiv = document.getElementById('produtos');
        const itensCarrinhoMobile = document.getElementById('itens-carrinho-mobile');
        const totalCarrinhoMobile = document.getElementById('total-carrinho-mobile');
        let carrinho = [];

        // Modal refs
        const modalProduto = new bootstrap.Modal(document.getElementById('modalProduto'));
        const modalProdutoLabel = document.getElementById('modalProdutoLabel');
        const modalProdutoImg = document.getElementById('modalProdutoImg');
        const modalProdutoDesc = document.getElementById('modalProdutoDesc');
        const modalAddCarrinho = document.getElementById('modalAddCarrinho');
        let modalProdutoId = null;

        // Use o numero do produtos.js
        const numeroWhatsapp = typeof window.numeroWhatsapp !== 'undefined' ? window.numeroWhatsapp : '258852205772';

        const buscaInput = document.getElementById('buscaProduto');
        let termoBusca = '';

        buscaInput.addEventListener('input', function() {
            termoBusca = this.value.toLowerCase();
            renderProdutos();
        });

        function renderProdutos() {
            produtosDiv.innerHTML = '';
            todosProdutos
                .filter(produto => {
                    if (!termoBusca) return true;
                    const texto = `${produto.nome} ${produto.descricao || ''}`.toLowerCase();
                    return texto.includes(termoBusca);
                })
                .forEach(produto => {
                    const desconto = produto.precoOriginal ? Math.round(100 - (produto.preco / produto.precoOriginal) * 100) : 0;
                    // Cria o card do produto
                    const card = document.createElement('div');
                    card.className = 'produto-card';
                    card.innerHTML = `
                        ${desconto > 0 ? `<div class="badge-desconto">-${desconto}%</div>` : ''}
                        <img src="${produto.imagem}" class="produto-img" alt="${produto.nome}" style="height:200px;cursor:pointer;" onclick="abrirModalProduto(${produto.id})">
                        <div class="produto-nome">${produto.nome}</div>
                        <div>
                            <span class="produto-preco">MZN ${produto.preco.toFixed(2)}</span>
                            ${produto.precoOriginal ? `<span class="produto-preco-original">MZN ${produto.precoOriginal.toFixed(2)}</span>` : ''}
                            ${desconto > 0 ? `<span class="produto-desconto">-${desconto}%</span>` : ''}
                        </div>
                        <div class="produto-btns">
                            <button class="btn btn-outline-dark w-100 mb-2" onclick="abrirModalProduto(${produto.id})">Ver detalhes</button>
                            <a class="btn btn-success w-100" href="https://wa.me/${numeroWhatsapp}?text=Ol√°! Tenho interesse no produto: ${encodeURIComponent(produto.nome)}" target="_blank">Comprar via WhatsApp</a>
                        </div>
                    `;
                    // Adiciona o card ao grid
                    produtosDiv.appendChild(card);
                });
        }

        function abrirModalProduto(id) {
            const produto = todosProdutos.find(p => p.id === id);
            modalProdutoLabel.textContent = produto.nome;
            modalProdutoImg.src = produto.imagem;
            modalProdutoImg.alt = produto.nome;
            modalProdutoDesc.textContent = produto.descricao || '';
            document.querySelector('#modalProduto .preco').textContent = `MZN ${produto.preco.toFixed(2)}`;
            document.querySelector('#modalProduto .preco-original').innerHTML = produto.precoOriginal ? `<s>MZN ${produto.precoOriginal.toFixed(2)}</s>` : '';
            modalProdutoId = id;
            // Atualiza bot√£o do modal para WhatsApp
            modalAddCarrinho.onclick = function() {
                window.open(`https://wa.me/${numeroWhatsapp}?text=Ol√°! Tenho interesse no produto: ${encodeURIComponent(produto.nome)}`, '_blank');
                modalProduto.hide();
            };
            modalProduto.show();
        }

        modalAddCarrinho.onclick = function() {
            if (modalProdutoId) adicionarCarrinho(modalProdutoId);
            modalProduto.hide();
        };

        function adicionarCarrinho(id) {
            const produto = todosProdutos.find(p => p.id === id);
            const item = carrinho.find(i => i.id === id);
            if (item) {
                item.qtd++;
            } else {
                carrinho.push({ ...produto, qtd: 1 });
            }
            renderCarrinhoMobile();
        }

        function removerCarrinho(id) {
            carrinho = carrinho.filter(item => item.id !== id);
            renderCarrinhoMobile();
        }

        function renderCarrinhoMobile() {
            itensCarrinhoMobile.innerHTML = '';
            let total = 0;
            carrinho.forEach(item => {
                total += item.preco * item.qtd;
                const li = document.createElement('li');
                li.className = "d-flex justify-content-between align-items-center mb-2";
                li.innerHTML = `
                    <span>${item.nome} <span class="badge bg-secondary">${item.qtd}</span></span>
                    <span>
                        MZN ${(item.preco * item.qtd).toFixed(2)}
                        <button class="btn btn-sm btn-link text-danger remover" onclick="removerCarrinho(${item.id})">Remover</button>
                    </span>
                `;
                itensCarrinhoMobile.appendChild(li);
            });
            totalCarrinhoMobile.textContent = total.toFixed(2);
        }

        // Carrinho mobile modal
        function abrirCarrinhoMobile() {
            const modalCarrinhoMobile = new bootstrap.Modal(document.getElementById('modalCarrinhoMobile'));
            modalCarrinhoMobile.show();
        }

        // Inicializa√ß√£o
        renderProdutos();
        renderCarrinhoMobile();

        // Expor fun√ß√µes para o escopo global
        window.adicionarCarrinho = adicionarCarrinho;
        window.removerCarrinho = removerCarrinho;
        window.abrirModalProduto = abrirModalProduto;
        window.abrirCarrinhoMobile = abrirCarrinhoMobile;
    </script>
</body>
</html>